作为产品专家，我建议在只有 1 个账号的前提下，将策略从“监控工具”转变为**“AI 辅助的半自动雷达”**。核心原则：能不用账号就不用，必须用账号时要“极其抠门”地用。一、 核心方案：1 账号下的“洋葱圈”获客模型我们将监控范围分为三层，层层递进，最大限度保护那个“独苗”账号。1. 最外圈：公网监控（零风险，零账号消耗）手段： 利用 Google/百度/必应等搜索引擎，通过 site:xiaohongshu.com "关键词" 实时监控收录。作用： 发现热门笔记、高权重笔记。这些笔记通常自带大量自然流量和潜在客户。技术： 纯爬虫/API，不需要登录小红书。2. 中间圈：匿名 Web 渲染（极低风险，零账号消耗）手段： 获取 URL 后，使用 Playwright 的**无痕模式（Incognito）**直接打开笔记详情页。作用： 抓取正文和图片。目前小红书 Web 端允许匿名查看详情，但不允许匿名搜索。技术： 配合动态住宅代理 IP，模拟普通访客。3. 核心圈：单号脉冲式搜索（高风险，需极度克制）手段： 该账号仅用于执行“搜索”动作，获取搜索结果页（SRP）的前 10 条最新笔记。频率限制： 每小时最多搜索 2-3 次。每次搜索之间插入 15-30 分钟的随机休眠。策略： 像真人一样，搜完之后随机点开一个非目标笔记停留一会儿（混淆视听）。二、 简化后的系统架构：RedPulse (脉冲红)这个方案放弃了大规模获客的幻想，转向**“高净值线索实时捕获”**。功能描述实现方式外部发现引擎全天候监控搜索引擎录入的新笔记。无需账号单号脉冲搜索设置 3-5 个核心词，每小时“脉冲式”轮巡一遍搜索列表。仅需 1 个账号AI 意图打分结合你现有的 AI 技术，对抓到的正文进行筛选。本地 AI 处理线索即时推送发现 90 分以上的线索，立即通过 Webhook 推送到钉钉/飞书。自动化通知三、 支持 AI Coding 的全套详细提示词 (Prompt)这套提示词已经针对“单账号”进行了安全加固。1. 搜索引擎“外部雷达” (Prompt 1)Role: Python 自动化专家。Task: 编写一个基于百度搜索的小红书链接发现脚本。Logic: > 1. 定时搜索 site:xiaohongshu.com "你的关键词" + "最新"。2. 提取搜索结果中所有符合小红书笔记格式的 URL。3. 将 URL 存入本地 SQLite 数据库，并标记为 source="PublicSearch"。4. 要求： 不需要登录小红书，完全基于第三方搜索结果。2. 单账号“模拟真人”搜索模块 (Prompt 2)Role: 资深 Playwright 开发专家。Task: 为唯一的小红书账号编写一套“脉冲式”搜索逻辑。Safety Requirements:状态保持： 使用 browser_context.storage_state 加载已登录的 Cookie，避免重复登录。随机频率： 编写一个函数，每小时随机选取 2 个时间点执行搜索。拟人化路径： >    - 访问首页 -> 随机滚动 -> 点击搜索框 -> 输入关键词 -> 回车。获取搜索结果前 5 条后，随机点击一条笔记进入详情页，停留 10 秒（模拟阅读）。随机点击一个“赞”或直接关闭浏览器。预警： 如果页面弹出“验证码”或“登录失效”，立即发送系统报警并停止运行，人工介入。3. AI 意图判定与线索漏斗 (Prompt 3)Role: LLM Prompt 工程师。Task: 设计一个精准的意图分类逻辑。Input: 小红书笔记正文。Logic:识别该笔记是否为用户真实的“求助、购买咨询、痛点吐槽”。识别笔记中是否包含具体的联系意愿（如“求私、怎么买、求推荐、有没有XX”）。过滤掉所有博主自发的软文（通常标签非常整齐、图片过于精美、引导性极强）。Output: 返回 JSON 对象：{score: 0-100, is_worth_replying: bool, reason: str}。4. 极简 Dashboard (Prompt 4)Role: Streamlit 开发者。Task: 制作一个轻量化获客管理台。Features:显示当前唯一账号的“健康状态”和“最后搜索时间”。展示高意图线索列表，点击 URL 直接在浏览器中打开，方便人工跟进。提供一个“手动执行一次”按钮，用于紧急情况下的实时搜索。四、 专家级防封号操作指南（仅限单号）账号养号： 这个账号千万不要只是用来爬取，每天要用手机手动刷 15 分钟。手动在手机上给几篇不相关的笔记点赞、收藏，甚至评论，让系统判定这是一个活生生的“高端用户”。网络环境： 脚本运行时的 IP 必须和手机登录时的 IP 地理位置一致（比如都在上海）。不要脚本在云服务器跑，手机在家跑。禁止自动私信： 在只有一个号的情况下，严禁使用自动化脚本发私信。这 100% 会触发封号。系统只负责“找人”，沟通请在手机上手动进行。夜间休眠： 脚本要在晚上 11 点到凌晨 7 点之间彻底停机。


针对您目前只有1个核心账号的情况，代码设计的灵魂在于：“极其低频、完全随机、重现人类浏览习惯”。

这套代码基于 Playwright 编写，它是目前模拟真人操作最强的框架。为了确保安全，我们采用 “手动登录一次，长期复用状态” 的策略，避免频繁登录触发验证码。

0. 准备工作
你需要安装必要的库：

1. 核心代码：PulseSearcher (脉冲搜索器)
这段代码包含了防检测指纹、拟人化输入、随机滚动浏览等 GEO 专家所需的底层逻辑。

2. 关键设计说明（针对单账号安全）
A. 状态持久化 (xhs_state.json)
这个文件存储了你的登录 Cookie 和 LocalStorage。

操作建议： 你需要先写一个简单的脚本，启动浏览器后手动扫码登录小红书，然后运行 await context.storage_state(path="xhs_state.json") 保存。

好处： 之后的自动化操作不需要重新登录，大大降低了账号被封的概率。

B. 逐字输入与随机延迟
代码中使用了循环逐字输入关键词 page.keyboard.type(char)，并配合 random.uniform。这能完美避开系统对“瞬间粘贴文本”的监测。

C. 行为混淆逻辑
代码不仅仅是搜完就走，它包含了一个关键动作：随机点击一条笔记并停留。这是区分“爬虫”和“真人”的核心指标。

3. 全套详细提示词 (支持 AI Coding 进一步开发)
你可以将以下提示词发送给 AI，让它帮你完善整个工具：

Prompt: 我现在有了基础的 Playwright 搜索代码。请帮我完成以下功能的代码集成：

脉冲调度器： 编写一个调度逻辑，每小时只在随机的两个时间点执行 search_keyword。支持读取一个 keywords.txt 文件中的多个词，但每次运行只随机选 1 个词。

意图检测集成： 在抓取到 results 后，增加一个调用 LLM API 的环节。将笔记的标题发送给 AI，判断是否属于“企业需求”或“获客线索”，如果是，则通过 Webhook 发送到我的企业微信。

异常熔断机制： 如果页面检测到“验证码”或“系统繁忙”，程序必须立即发送报警并调用 sys.exit()，防止账号在异常情况下反复重试导致永久封号。

无头模式切换： 允许通过配置参数在 headless=True 和 False 之间切换，但在无头模式下必须伪造 WebGL 和 Canvas 指纹。

4. 给您的专家级忠告
IP 一致性： 既然只有一个号，运行这个脚本的电脑（或服务器）必须和你手机登录这个号时使用的 Wi-Fi 或网络环境保持一致。

避免“点赞/私信”自动化： 搜索和查看是低风险的，但自动化点赞、关注、私信是最高风险。建议获客流程为：脚本发现线索 -> 推送到微信 -> 人工用手机进行回复。

GEO 差异化： 利用您现有的“多模态提取神器”，可以对这个脚本抓到的图片进行本地解析（如 OCR 识别图片里的联系方式），这样就不需要登录账号去评论区翻找，安全性更高。





